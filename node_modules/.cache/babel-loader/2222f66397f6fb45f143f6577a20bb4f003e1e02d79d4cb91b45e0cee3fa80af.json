{"ast":null,"code":"import { ref } from 'vue';\n\n//outdated v3 \n//import { Configuration, OpenAIApi } from 'openai';\n\n//New (i.e., OpenAI NodeJS SDK v4)\nimport OpenAI from 'openai';\n\n//require('dotenv').config();\n//const openaiApiKey = process.env.VITE_OPENAI_API_KEY;\n\n// OpenAI Configuration\n//const configuration = new Configuration({\n//  apiKey: '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',\n//});\n\n//OpenAI API Instance\n//const openai = new OpenAIApi(configuration);\n\nexport default {\n  __name: 'MoviePitch',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const openai = new OpenAI({\n      apiKey: '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' //process.env.OPENAI_API_KEY,\n    });\n\n    // Reactive Variables\n    const userInput = ref(\"\");\n    const imageUrl = ref(\"\");\n    const title = ref(\"\");\n    const stars = ref(\"\");\n    const text = ref(\"\");\n    const setupInputContainer = ref(null);\n    const movieBossText = ref(null);\n\n    // Show Loading Indicator\n    const showLoadingIndicator = () => {\n      setupInputContainer.value.innerHTML = `<img src=\"@/assets/loading.svg\" class=\"loading\" id=\"loading\">`;\n      movieBossText.value.innerText = `Ok, just wait a second while my digital brain digests that...`;\n    };\n\n    // Submit User Input\n    const submitSetup = () => {\n      if (userInput.value) {\n        showLoadingIndicator();\n        alert('Inside SubmitSetup');\n        fetchBotReply(userInput.value);\n        fetchSynopsis(userInput.value); //fetch title called inside Synopsis\n        fetchImagePrompt(fetchTitle, fetchSynopsis);\n      }\n    };\n\n    // Fetch Bot Reply\n    const fetchBotReply = async outline => {\n      try {\n        // API Call to OpenAI for Bot Reply\n        const response = await openai.createCompletion({\n          model: 'text-davinci-003',\n          prompt: `Generate a short message to enthusiastically say an outline sounds interesting and that you need some minutes to think about it.\n        ###\n        outline: ${outline}\n        message: \n        `,\n          max_tokens: 60\n        });\n        movieBossText.value.innerText = response.data.choices[0].text.trim();\n      } catch (error) {\n        console.error('Error fetching bot reply:', error);\n        // Handle errors as needed\n      }\n    };\n\n    // Fetch Synopsis\n    const fetchSynopsis = async outline => {\n      try {\n        // API Call to OpenAI for Synopsis\n        const response = await openai.createCompletion({\n          model: 'text-davinci-003',\n          prompt: `Generate an engaging, professional and marketable movie synopsis based on an outline. The synopsis should include actors names in brackets after each character. Choose actors that would be ideal for this role. \n        ###\n        outline: ${outline}\n        synopsis: \n        `,\n          max_tokens: 700\n        });\n        const synopsis = response.data.choices[0].text.trim();\n        text.value = synopsis;\n        await fetchTitle(synopsis);\n        await fetchStars(synopsis);\n      } catch (error) {\n        console.error('Error fetching synopsis:', error);\n        // Handle errors as needed\n      }\n    };\n\n    // Fetch Movie Title\n    const fetchTitle = async synopsis => {\n      try {\n        // API Call to OpenAI for Movie Title\n        const response = await openai.createCompletion({\n          model: 'text-davinci-003',\n          prompt: `Generate a catchy movie title for this synopsis: ${synopsis}`,\n          max_tokens: 25,\n          temperature: 0.7\n        });\n        title.value = response.data.choices[0].text.trim();\n      } catch (error) {\n        console.error('Error fetching title:', error);\n        // Handle errors as needed\n      }\n    };\n\n    // Fetch Cast Stars\n    const fetchStars = async synopsis => {\n      try {\n        // API Call to OpenAI for Cast Stars\n        const response = await openai.createCompletion({\n          model: 'text-davinci-003',\n          prompt: `Extract the names in brackets from the synopsis.\n        ###\n        synopsis: ${synopsis}\n        names:   \n        `,\n          max_tokens: 30\n        });\n        stars.value = response.data.choices[0].text.trim();\n      } catch (error) {\n        console.error('Error fetching stars:', error);\n        // Handle errors as needed\n      }\n    };\n\n    // Fetch Image Prompt and URL\n    const fetchImagePrompt = async (title, synopsis) => {\n      try {\n        // API Call to OpenAI for Image Prompt\n        const response = await openai.createCompletion({\n          model: 'text-davinci-003',\n          prompt: `Give a short description of an image which could be used to advertise a movie based on a title and synopsis. The description should be rich in visual detail but contain no names.\n        ###\n        title: ${title}\n        synopsis: ${synopsis}\n        image description: \n        `,\n          temperature: 0.8,\n          max_tokens: 100\n        });\n        fetchImageUrl(response.data.choices[0].text.trim());\n      } catch (error) {\n        console.error('Error fetching image prompt:', error);\n        // Handle errors as needed\n      }\n    };\n\n    // Fetch Image URL\n    const fetchImageUrl = async imagePrompt => {\n      try {\n        // API Call to OpenAI for Image URL\n        const response = await openai.createImage({\n          prompt: `${imagePrompt}. There should be no text in this image.`,\n          n: 1,\n          size: '256x256',\n          response_format: 'b64_json'\n        });\n        imageUrl.value = `data:image/png;base64,${response.data.data[0].b64_json}`;\n        setupInputContainer.value.innerHTML = `<button id=\"view-pitch-btn\" class=\"view-pitch-btn\">View Pitch</button>`;\n        setupInputContainer.value.querySelector('#view-pitch-btn').addEventListener('click', () => {\n          setupInputContainer.value.querySelector('#setup-container').style.display = 'none';\n          setupInputContainer.value.querySelector('#output-container').style.display = 'flex';\n          movieBossText.value.innerText = `This idea is so good I'm jealous! It's gonna make you rich for sure! Remember, I want 10% ðŸ’°`;\n        });\n      } catch (error) {\n        console.error('Error fetching image URL:', error);\n        // Handle errors as needed\n      }\n    };\n\n    // Switch to Output View\n    const viewPitch = () => {\n      document.getElementById('setup-container').style.display = 'none';\n      document.getElementById('output-container').style.display = 'flex';\n      movieBossText.value.innerText = `This idea is so good I'm jealous! It's gonna make you rich for sure! Remember, I want 10% ðŸ’°`;\n    };\n    const __returned__ = {\n      openai,\n      userInput,\n      imageUrl,\n      title,\n      stars,\n      text,\n      setupInputContainer,\n      movieBossText,\n      showLoadingIndicator,\n      submitSetup,\n      fetchBotReply,\n      fetchSynopsis,\n      fetchTitle,\n      fetchStars,\n      fetchImagePrompt,\n      fetchImageUrl,\n      viewPitch,\n      ref,\n      get OpenAI() {\n        return OpenAI;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","OpenAI","openai","apiKey","userInput","imageUrl","title","stars","text","setupInputContainer","movieBossText","showLoadingIndicator","value","innerHTML","innerText","submitSetup","alert","fetchBotReply","fetchSynopsis","fetchImagePrompt","fetchTitle","outline","response","createCompletion","model","prompt","max_tokens","data","choices","trim","error","console","synopsis","fetchStars","temperature","fetchImageUrl","imagePrompt","createImage","n","size","response_format","b64_json","querySelector","addEventListener","style","display","viewPitch","document","getElementById"],"sources":["C:/Users/btina/LLM/vue-app/src/components/MoviePitch.vue"],"sourcesContent":["<template>\n  <div>\n    <section id=\"setup-container\">\n      <div class=\"setup-inner\">\n        <img src=\"./assets\" alt=\"MovieBoss\">\n        <div class=\"speech-bubble-ai\" ref=\"speechBubble\">\n          <p ref=\"movieBossText\">\n            Give me a one-sentence concept, and I'll give you an eye-catching title, a synopsis the studios will love, a movie poster...!\n          </p>\n        </div>\n      </div>\n      <div class=\"setup-inner setup-input-container\" ref=\"setupInputContainer\">\n        <textarea v-model=\"userInput\" id=\"setup-textarea\" placeholder=\"An evil genius wants to take over the world using AI.\"></textarea>\n        <button @click=\"submitSetup\" class=\"send-btn\" id=\"send-btn\" aria-label=\"send\">\n          <img src=\"@/assets/send-btn-icon.png\" alt=\"send\">\n        </button>\n      </div>\n    </section>\n\n    <section class=\"output-container\" id=\"output-container\">\n      <div id=\"output-img-container\" class=\"output-img-container\">\n        <img :src=\"imageUrl\" alt=\"Movie Poster\">\n      </div>\n      <h1 id=\"output-title\">{{ title }}</h1>\n      <h2 id=\"output-stars\">{{ stars }}</h2>\n      <p id=\"output-text\">{{ text }}</p>\n      <button class=\"view-pitch-btn\" @click=\"viewPitch\" aria-label=\"View Pitch\">\n        View Pitch\n      </button>\n    </section>\n  </div>\n</template>\n\n<script setup>\n  import { ref } from 'vue';\n\n  //outdated v3 \n  //import { Configuration, OpenAIApi } from 'openai';\n \n  //New (i.e., OpenAI NodeJS SDK v4)\n  import OpenAI from 'openai';\n \n  //require('dotenv').config();\n  //const openaiApiKey = process.env.VITE_OPENAI_API_KEY;\n\n  // OpenAI Configuration\n  //const configuration = new Configuration({\n  //  apiKey: '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',\n  //});\n\n  //OpenAI API Instance\n  //const openai = new OpenAIApi(configuration);\n\n  const openai = new OpenAI({\n   apiKey: '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', //process.env.OPENAI_API_KEY,\n   });\n\n  // Reactive Variables\n  const userInput = ref(\"\");\n  const imageUrl = ref(\"\");\n  const title = ref(\"\");\n  const stars = ref(\"\");\n  const text = ref(\"\");\n  const setupInputContainer = ref(null);\n  const movieBossText = ref(null);\n\n  \n  // Show Loading Indicator\n  const showLoadingIndicator = () => {\n    setupInputContainer.value.innerHTML = `<img src=\"@/assets/loading.svg\" class=\"loading\" id=\"loading\">`;\n    movieBossText.value.innerText = `Ok, just wait a second while my digital brain digests that...`;\n  };\n\n  // Submit User Input\n  const submitSetup = () => {\n    if (userInput.value) {\n      showLoadingIndicator();\n      alert('Inside SubmitSetup');\n      fetchBotReply(userInput.value);\n      fetchSynopsis(userInput.value); //fetch title called inside Synopsis\n      fetchImagePrompt(fetchTitle,fetchSynopsis);\n    }\n  };\n\n  // Fetch Bot Reply\n  const fetchBotReply = async (outline) => {\n    try {\n      // API Call to OpenAI for Bot Reply\n      const response = await openai.createCompletion({\n        model: 'text-davinci-003',\n        prompt: `Generate a short message to enthusiastically say an outline sounds interesting and that you need some minutes to think about it.\n        ###\n        outline: ${outline}\n        message: \n        `,\n        max_tokens: 60,\n      });\n\n      movieBossText.value.innerText = response.data.choices[0].text.trim();\n    } catch (error) {\n      console.error('Error fetching bot reply:', error);\n      // Handle errors as needed\n    }\n  };\n\n  // Fetch Synopsis\n  const fetchSynopsis = async (outline) => {\n    try {\n      // API Call to OpenAI for Synopsis\n      const response = await openai.createCompletion({\n        model: 'text-davinci-003',\n        prompt: `Generate an engaging, professional and marketable movie synopsis based on an outline. The synopsis should include actors names in brackets after each character. Choose actors that would be ideal for this role. \n        ###\n        outline: ${outline}\n        synopsis: \n        `,\n        max_tokens: 700,\n      });\n\n      const synopsis = response.data.choices[0].text.trim();\n      text.value = synopsis;\n      await fetchTitle(synopsis);\n      await fetchStars(synopsis);\n    } catch (error) {\n      console.error('Error fetching synopsis:', error);\n      // Handle errors as needed\n    } \n  };\n\n  // Fetch Movie Title\n  const fetchTitle = async (synopsis) => {\n    try {\n      // API Call to OpenAI for Movie Title\n      const response = await openai.createCompletion({\n        model: 'text-davinci-003',\n        prompt: `Generate a catchy movie title for this synopsis: ${synopsis}`,\n        max_tokens: 25,\n        temperature: 0.7,\n      });\n\n      title.value = response.data.choices[0].text.trim();\n    } catch (error) {\n      console.error('Error fetching title:', error);\n      // Handle errors as needed\n    }\n  };\n\n  // Fetch Cast Stars\n  const fetchStars = async (synopsis) => {\n    try {\n      // API Call to OpenAI for Cast Stars\n      const response = await openai.createCompletion({\n        model: 'text-davinci-003',\n        prompt: `Extract the names in brackets from the synopsis.\n        ###\n        synopsis: ${synopsis}\n        names:   \n        `,\n        max_tokens: 30,\n      });\n\n      stars.value = response.data.choices[0].text.trim();\n    } catch (error) {\n      console.error('Error fetching stars:', error);\n      // Handle errors as needed\n    }\n  };\n\n  // Fetch Image Prompt and URL\n  const fetchImagePrompt = async (title, synopsis) => {\n    try {\n      // API Call to OpenAI for Image Prompt\n      const response = await openai.createCompletion({\n        model: 'text-davinci-003',\n        prompt: `Give a short description of an image which could be used to advertise a movie based on a title and synopsis. The description should be rich in visual detail but contain no names.\n        ###\n        title: ${title}\n        synopsis: ${synopsis}\n        image description: \n        `,\n        temperature: 0.8,\n        max_tokens: 100,\n      });\n\n      fetchImageUrl(response.data.choices[0].text.trim());\n    } catch (error) {\n      console.error('Error fetching image prompt:', error);\n      // Handle errors as needed\n    }\n  };\n\n  // Fetch Image URL\n  const fetchImageUrl = async (imagePrompt) => {\n    try {\n      // API Call to OpenAI for Image URL\n      const response = await openai.createImage({\n        prompt: `${imagePrompt}. There should be no text in this image.`,\n        n: 1,\n        size: '256x256',\n        response_format: 'b64_json',\n      });\n\n      imageUrl.value = `data:image/png;base64,${response.data.data[0].b64_json}`;\n      setupInputContainer.value.innerHTML = `<button id=\"view-pitch-btn\" class=\"view-pitch-btn\">View Pitch</button>`;\n      setupInputContainer.value.querySelector('#view-pitch-btn').addEventListener('click', () => {\n        setupInputContainer.value.querySelector('#setup-container').style.display = 'none';\n        setupInputContainer.value.querySelector('#output-container').style.display = 'flex';\n        movieBossText.value.innerText = `This idea is so good I'm jealous! It's gonna make you rich for sure! Remember, I want 10% ðŸ’°`;\n      });\n    } catch (error) {\n      console.error('Error fetching image URL:', error);\n      // Handle errors as needed\n    }\n  };\n\n  // Switch to Output View\n  const viewPitch = () => {\n    document.getElementById('setup-container').style.display = 'none';\n    document.getElementById('output-container').style.display = 'flex';\n    movieBossText.value.innerText = `This idea is so good I'm jealous! It's gonna make you rich for sure! Remember, I want 10% ðŸ’°`;\n  };\n</script>\n\n<style scoped>\n\nsection {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: var(--light);\n  border-radius: var(--border-rad-lg);\n  padding: 16px;\n  box-shadow: 0px 1px 18px 3px var(--dark);\n  max-width: 500px;\n  width: calc(100% - 32px);\n  z-index: 1000;\n}\n\n/* Setup */\n\n.setup-inner {\n  display: flex;\n  justify-content: space-around;\n  padding: 24px 8px;\n  min-height: 234px;\n}\n\n.setup-inner>img {\n  width: 40%;\n  filter: drop-shadow(3px 2px 3px var(--medium-dark));\n  align-self: center;\n}\n\n.setup-input-container {\n  min-height: 74px;\n}\n\n.speech-bubble-ai {\n  max-width: 55%;\n  min-height: 124px;\n  border-radius: var(--border-rad-lg);\n  position: relative;\n  margin: 0;\n  border: 3px solid var(--medium-dark);\n  background-color: var(--white);\n  align-self: flex-start;\n  display: flex;\n  align-items: center;\n}\n\n.speech-bubble-ai:before {\n  content: \"\";\n  position: absolute;\n  border-left: 9px solid transparent;\n  border-right: 9px solid var(--medium-dark);\n  border-top: 9px solid var(--medium-dark);\n  border-bottom: 9px solid transparent;\n  left: -21px;\n  top: 64px;\n}\n\n.speech-bubble-ai:after {\n  content: \"\";\n  position: absolute;\n  border-left: 7px solid transparent;\n  border-right: 7px solid var(--white);\n  border-top: 7px solid var(--white);\n  border-bottom: 7px solid transparent;\n  left: -11px;\n  top: 68px;\n}\n\n.speech-bubble-ai>p {\n  padding: 0 1.3em;\n  color: var(--dark);\n  font-size: 14px;\n}\n\ntextarea {\n  background-color: var(--light-grey);\n  padding: 8px;\n  border: none;\n  border-top-right-radius: 0;\n  border-top-left-radius: var(--border-rad-lg);\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: var(--border-rad-lg);\n  width: 100%;\n  resize: none;\n  min-height: 40px;\n  box-sizing: border-box;\n  font-family: 'Poppins', sans-serif;\n}\n\ntextarea::placeholder {\n  color: var(--medium-dark);\n  font-size: 14px;\n  opacity: 0.8;\n}\n\n/* Larger mobiles+ */\n\n@media(min-width: 380px) {\n  .setup-input-container {\n    padding-top: 0;\n  }\n\n  .speech-bubble-ai:before {\n    top: 92px;\n  }\n\n  .speech-bubble-ai:after {\n    top: 96px;\n  }\n\n  .speech-bubble-ai>p {\n    font-size: 16px;\n  }\n\n  textarea::placeholder {\n    font-size: 16px;\n    opacity: 0.8;\n  }\n}\n\n/* Buttons & SVG */\n\nbutton {\n  border: none;\n  background: var(--pink);\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: var(--dark);\n}\n\n.send-btn {\n  border-top-right-radius: var(--border-rad-lg);\n  border-bottom-right-radius: var(--border-rad-lg);\n  min-width: 50px;\n}\n\n.send-btn>img {\n  width: 1.6em;\n  vertical-align: middle;\n}\n\n.view-pitch-btn {\n  color: var(--light);\n  border-radius: var(--border-rad-lg);\n  padding: 16px;\n  margin: 4px auto;\n  display: block;\n  font-size: 18px;\n}\n\n.view-pitch-btn:hover {\n  box-shadow: 1px 1px 5px 1px var(--medium-dark);\n}\n\nimg.loading {\n  max-width: 40px;\n  filter: none;\n}\n\n/* Output */\n\n.output-container {\n  display: none;\n  flex-direction: column;\n  margin: 16px auto;\n  color: var(--dark);\n  padding: 16px;\n}\n\n.output-img-container>img {\n  width: 100%;\n  border-radius: var(--border-rad-lg);\n  box-shadow: 1px 1px 5px 1px var(--dark);\n}\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}