{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/web.dom-exception.stack.js\");\nrequire(\"core-js/modules/web.url-search-params.delete.js\");\nrequire(\"core-js/modules/web.url-search-params.has.js\");\nrequire(\"core-js/modules/web.url-search-params.size.js\");\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractPage_client;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isObj = exports.toBase64 = exports.getRequiredHeader = exports.isHeadersProtocol = exports.isRunningInBrowser = exports.debug = exports.hasOwn = exports.isEmptyObj = exports.maybeCoerceBoolean = exports.maybeCoerceFloat = exports.maybeCoerceInteger = exports.coerceBoolean = exports.coerceFloat = exports.coerceInteger = exports.readEnv = exports.ensurePresent = exports.castToError = exports.sleep = exports.safeJSON = exports.isRequestOptions = exports.createResponseHeaders = exports.PagePromise = exports.AbstractPage = exports.APIClient = exports.APIPromise = exports.createForm = exports.multipartFormRequestOptions = exports.maybeMultipartFormRequestOptions = void 0;\nconst version_1 = require(\"./version.js\");\nconst streaming_1 = require(\"./streaming.js\");\nconst error_1 = require(\"./error.js\");\nconst index_1 = require(\"./_shims/index.js\");\nconst uploads_1 = require(\"./uploads.js\");\nvar uploads_2 = require(\"./uploads.js\");\nObject.defineProperty(exports, \"maybeMultipartFormRequestOptions\", {\n  enumerable: true,\n  get: function () {\n    return uploads_2.maybeMultipartFormRequestOptions;\n  }\n});\nObject.defineProperty(exports, \"multipartFormRequestOptions\", {\n  enumerable: true,\n  get: function () {\n    return uploads_2.multipartFormRequestOptions;\n  }\n});\nObject.defineProperty(exports, \"createForm\", {\n  enumerable: true,\n  get: function () {\n    return uploads_2.createForm;\n  }\n});\nasync function defaultParseResponse(props) {\n  const {\n    response\n  } = props;\n  if (props.options.stream) {\n    debug('response', response.status, response.url, response.headers, response.body);\n    // Note: there is an invariant here that isn't represented in the type system\n    // that if you set `stream: true` the response type must also be `Stream<T>`\n    if (props.options.__streamClass) {\n      return props.options.__streamClass.fromSSEResponse(response, props.controller);\n    }\n    return streaming_1.Stream.fromSSEResponse(response, props.controller);\n  }\n  // fetch refuses to read the body when the status code is 204.\n  if (response.status === 204) {\n    return null;\n  }\n  if (props.options.__binaryResponse) {\n    return response;\n  }\n  const contentType = response.headers.get('content-type');\n  const isJSON = contentType?.includes('application/json') || contentType?.includes('application/vnd.api+json');\n  if (isJSON) {\n    const json = await response.json();\n    debug('response', response.status, response.url, response.headers, json);\n    return json;\n  }\n  const text = await response.text();\n  debug('response', response.status, response.url, response.headers, text);\n  // TODO handle blob, arraybuffer, other content types, etc.\n  return text;\n}\n/**\n * A subclass of `Promise` providing additional helper methods\n * for interacting with the SDK.\n */\nclass APIPromise extends Promise {\n  constructor(responsePromise, parseResponse = defaultParseResponse) {\n    super(resolve => {\n      // this is maybe a bit weird but this has to be a no-op to not implicitly\n      // parse the response body; instead .then, .catch, .finally are overridden\n      // to parse the response\n      resolve(null);\n    });\n    this.responsePromise = responsePromise;\n    this.parseResponse = parseResponse;\n  }\n  _thenUnwrap(transform) {\n    return new APIPromise(this.responsePromise, async props => transform(await this.parseResponse(props)));\n  }\n  /**\n   * Gets the raw `Response` instance instead of parsing the response\n   * data.\n   *\n   * If you want to parse the response body but still get the `Response`\n   * instance, you can use {@link withResponse()}.\n   *\n   * ðŸ‘‹ Getting the wrong TypeScript type for `Response`?\n   * Try setting `\"moduleResolution\": \"NodeNext\"` if you can,\n   * or add one of these imports before your first `import â€¦ from 'openai'`:\n   * - `import 'openai/shims/node'` (if you're running on Node)\n   * - `import 'openai/shims/web'` (otherwise)\n   */\n  asResponse() {\n    return this.responsePromise.then(p => p.response);\n  }\n  /**\n   * Gets the parsed response data and the raw `Response` instance.\n   *\n   * If you just want to get the raw `Response` instance without parsing it,\n   * you can use {@link asResponse()}.\n   *\n   *\n   * ðŸ‘‹ Getting the wrong TypeScript type for `Response`?\n   * Try setting `\"moduleResolution\": \"NodeNext\"` if you can,\n   * or add one of these imports before your first `import â€¦ from 'openai'`:\n   * - `import 'openai/shims/node'` (if you're running on Node)\n   * - `import 'openai/shims/web'` (otherwise)\n   */\n  async withResponse() {\n    const [data, response] = await Promise.all([this.parse(), this.asResponse()]);\n    return {\n      data,\n      response\n    };\n  }\n  parse() {\n    if (!this.parsedPromise) {\n      this.parsedPromise = this.responsePromise.then(this.parseResponse);\n    }\n    return this.parsedPromise;\n  }\n  then(onfulfilled, onrejected) {\n    return this.parse().then(onfulfilled, onrejected);\n  }\n  catch(onrejected) {\n    return this.parse().catch(onrejected);\n  }\n  finally(onfinally) {\n    return this.parse().finally(onfinally);\n  }\n}\nexports.APIPromise = APIPromise;\nclass APIClient {\n  constructor({\n    baseURL,\n    maxRetries = 2,\n    timeout = 600000,\n    // 10 minutes\n    httpAgent,\n    fetch: overridenFetch\n  }) {\n    this.baseURL = baseURL;\n    this.maxRetries = validatePositiveInteger('maxRetries', maxRetries);\n    this.timeout = validatePositiveInteger('timeout', timeout);\n    this.httpAgent = httpAgent;\n    this.fetch = overridenFetch ?? index_1.fetch;\n  }\n  authHeaders(opts) {\n    return {};\n  }\n  /**\n   * Override this to add your own default headers, for example:\n   *\n   *  {\n   *    ...super.defaultHeaders(),\n   *    Authorization: 'Bearer 123',\n   *  }\n   */\n  defaultHeaders(opts) {\n    return {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      'User-Agent': this.getUserAgent(),\n      ...getPlatformHeaders(),\n      ...this.authHeaders(opts)\n    };\n  }\n  /**\n   * Override this to add your own headers validation:\n   */\n  validateHeaders(headers, customHeaders) {}\n  defaultIdempotencyKey() {\n    return `stainless-node-retry-${uuid4()}`;\n  }\n  get(path, opts) {\n    return this.methodRequest('get', path, opts);\n  }\n  post(path, opts) {\n    return this.methodRequest('post', path, opts);\n  }\n  patch(path, opts) {\n    return this.methodRequest('patch', path, opts);\n  }\n  put(path, opts) {\n    return this.methodRequest('put', path, opts);\n  }\n  delete(path, opts) {\n    return this.methodRequest('delete', path, opts);\n  }\n  methodRequest(method, path, opts) {\n    return this.request(Promise.resolve(opts).then(opts => ({\n      method,\n      path,\n      ...opts\n    })));\n  }\n  getAPIList(path, Page, opts) {\n    return this.requestAPIList(Page, {\n      method: 'get',\n      path,\n      ...opts\n    });\n  }\n  calculateContentLength(body) {\n    if (typeof body === 'string') {\n      if (typeof Buffer !== 'undefined') {\n        return Buffer.byteLength(body, 'utf8').toString();\n      }\n      if (typeof TextEncoder !== 'undefined') {\n        const encoder = new TextEncoder();\n        const encoded = encoder.encode(body);\n        return encoded.length.toString();\n      }\n    }\n    return null;\n  }\n  buildRequest(options) {\n    const {\n      method,\n      path,\n      query,\n      headers = {}\n    } = options;\n    const body = (0, uploads_1.isMultipartBody)(options.body) ? options.body.body : options.body ? JSON.stringify(options.body, null, 2) : null;\n    const contentLength = this.calculateContentLength(body);\n    const url = this.buildURL(path, query);\n    if ('timeout' in options) validatePositiveInteger('timeout', options.timeout);\n    const timeout = options.timeout ?? this.timeout;\n    const httpAgent = options.httpAgent ?? this.httpAgent ?? (0, index_1.getDefaultAgent)(url);\n    const minAgentTimeout = timeout + 1000;\n    if (typeof httpAgent?.options?.timeout === 'number' && minAgentTimeout > (httpAgent.options.timeout ?? 0)) {\n      // Allow any given request to bump our agent active socket timeout.\n      // This may seem strange, but leaking active sockets should be rare and not particularly problematic,\n      // and without mutating agent we would need to create more of them.\n      // This tradeoff optimizes for performance.\n      httpAgent.options.timeout = minAgentTimeout;\n    }\n    if (this.idempotencyHeader && method !== 'get') {\n      if (!options.idempotencyKey) options.idempotencyKey = this.defaultIdempotencyKey();\n      headers[this.idempotencyHeader] = options.idempotencyKey;\n    }\n    const reqHeaders = this.buildHeaders({\n      options,\n      headers,\n      contentLength\n    });\n    const req = {\n      method,\n      ...(body && {\n        body: body\n      }),\n      headers: reqHeaders,\n      ...(httpAgent && {\n        agent: httpAgent\n      }),\n      // @ts-ignore node-fetch uses a custom AbortSignal type that is\n      // not compatible with standard web types\n      signal: options.signal ?? null\n    };\n    return {\n      req,\n      url,\n      timeout\n    };\n  }\n  buildHeaders({\n    options,\n    headers,\n    contentLength\n  }) {\n    const reqHeaders = {};\n    if (contentLength) {\n      reqHeaders['content-length'] = contentLength;\n    }\n    const defaultHeaders = this.defaultHeaders(options);\n    applyHeadersMut(reqHeaders, defaultHeaders);\n    applyHeadersMut(reqHeaders, headers);\n    // let builtin fetch set the Content-Type for multipart bodies\n    if ((0, uploads_1.isMultipartBody)(options.body) && index_1.kind !== 'node') {\n      delete reqHeaders['content-type'];\n    }\n    this.validateHeaders(reqHeaders, headers);\n    return reqHeaders;\n  }\n  /**\n   * Used as a callback for mutating the given `FinalRequestOptions` object.\n   */\n  async prepareOptions(options) {}\n  /**\n   * Used as a callback for mutating the given `RequestInit` object.\n   *\n   * This is useful for cases where you want to add certain headers based off of\n   * the request properties, e.g. `method` or `url`.\n   */\n  async prepareRequest(request, {\n    url,\n    options\n  }) {}\n  parseHeaders(headers) {\n    return !headers ? {} : Symbol.iterator in headers ? Object.fromEntries(Array.from(headers).map(header => [...header])) : {\n      ...headers\n    };\n  }\n  makeStatusError(status, error, message, headers) {\n    return error_1.APIError.generate(status, error, message, headers);\n  }\n  request(options, remainingRetries = null) {\n    return new APIPromise(this.makeRequest(options, remainingRetries));\n  }\n  async makeRequest(optionsInput, retriesRemaining) {\n    const options = await optionsInput;\n    if (retriesRemaining == null) {\n      retriesRemaining = options.maxRetries ?? this.maxRetries;\n    }\n    await this.prepareOptions(options);\n    const {\n      req,\n      url,\n      timeout\n    } = this.buildRequest(options);\n    await this.prepareRequest(req, {\n      url,\n      options\n    });\n    debug('request', url, options, req.headers);\n    if (options.signal?.aborted) {\n      throw new error_1.APIUserAbortError();\n    }\n    const controller = new AbortController();\n    const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(exports.castToError);\n    if (response instanceof Error) {\n      if (options.signal?.aborted) {\n        throw new error_1.APIUserAbortError();\n      }\n      if (retriesRemaining) {\n        return this.retryRequest(options, retriesRemaining);\n      }\n      if (response.name === 'AbortError') {\n        throw new error_1.APIConnectionTimeoutError();\n      }\n      throw new error_1.APIConnectionError({\n        cause: response\n      });\n    }\n    const responseHeaders = (0, exports.createResponseHeaders)(response.headers);\n    if (!response.ok) {\n      if (retriesRemaining && this.shouldRetry(response)) {\n        const retryMessage = `retrying, ${retriesRemaining} attempts remaining`;\n        debug(`response (error; ${retryMessage})`, response.status, url, responseHeaders);\n        return this.retryRequest(options, retriesRemaining, responseHeaders);\n      }\n      const errText = await response.text().catch(e => (0, exports.castToError)(e).message);\n      const errJSON = (0, exports.safeJSON)(errText);\n      const errMessage = errJSON ? undefined : errText;\n      const retryMessage = retriesRemaining ? `(error; no more retries left)` : `(error; not retryable)`;\n      debug(`response (error; ${retryMessage})`, response.status, url, responseHeaders, errMessage);\n      const err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);\n      throw err;\n    }\n    return {\n      response,\n      options,\n      controller\n    };\n  }\n  requestAPIList(Page, options) {\n    const request = this.makeRequest(options, null);\n    return new PagePromise(this, request, Page);\n  }\n  buildURL(path, query) {\n    const url = isAbsoluteURL(path) ? new URL(path) : new URL(this.baseURL + (this.baseURL.endsWith('/') && path.startsWith('/') ? path.slice(1) : path));\n    const defaultQuery = this.defaultQuery();\n    if (!isEmptyObj(defaultQuery)) {\n      query = {\n        ...defaultQuery,\n        ...query\n      };\n    }\n    if (typeof query === 'object' && query && !Array.isArray(query)) {\n      url.search = this.stringifyQuery(query);\n    }\n    return url.toString();\n  }\n  stringifyQuery(query) {\n    return Object.entries(query).filter(([_, value]) => typeof value !== 'undefined').map(([key, value]) => {\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n      }\n      if (value === null) {\n        return `${encodeURIComponent(key)}=`;\n      }\n      throw new error_1.OpenAIError(`Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`);\n    }).join('&');\n  }\n  async fetchWithTimeout(url, init, ms, controller) {\n    const {\n      signal,\n      ...options\n    } = init || {};\n    if (signal) signal.addEventListener('abort', () => controller.abort());\n    const timeout = setTimeout(() => controller.abort(), ms);\n    return this.getRequestClient()\n    // use undefined this binding; fetch errors if bound to something else in browser/cloudflare\n    .fetch.call(undefined, url, {\n      signal: controller.signal,\n      ...options\n    }).finally(() => {\n      clearTimeout(timeout);\n    });\n  }\n  getRequestClient() {\n    return {\n      fetch: this.fetch\n    };\n  }\n  shouldRetry(response) {\n    // Note this is not a standard header.\n    const shouldRetryHeader = response.headers.get('x-should-retry');\n    // If the server explicitly says whether or not to retry, obey.\n    if (shouldRetryHeader === 'true') return true;\n    if (shouldRetryHeader === 'false') return false;\n    // Retry on request timeouts.\n    if (response.status === 408) return true;\n    // Retry on lock timeouts.\n    if (response.status === 409) return true;\n    // Retry on rate limits.\n    if (response.status === 429) return true;\n    // Retry internal errors.\n    if (response.status >= 500) return true;\n    return false;\n  }\n  async retryRequest(options, retriesRemaining, responseHeaders) {\n    let timeoutMillis;\n    // Note the `retry-after-ms` header may not be standard, but is a good idea and we'd like proactive support for it.\n    const retryAfterMillisHeader = responseHeaders?.['retry-after-ms'];\n    if (retryAfterMillisHeader) {\n      const timeoutMs = parseFloat(retryAfterMillisHeader);\n      if (!Number.isNaN(timeoutMs)) {\n        timeoutMillis = timeoutMs;\n      }\n    }\n    // About the Retry-After header: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After\n    const retryAfterHeader = responseHeaders?.['retry-after'];\n    if (retryAfterHeader && !timeoutMillis) {\n      const timeoutSeconds = parseFloat(retryAfterHeader);\n      if (!Number.isNaN(timeoutSeconds)) {\n        timeoutMillis = timeoutSeconds * 1000;\n      } else {\n        timeoutMillis = Date.parse(retryAfterHeader) - Date.now();\n      }\n    }\n    // If the API asks us to wait a certain amount of time (and it's a reasonable amount),\n    // just do what it says, but otherwise calculate a default\n    if (!(timeoutMillis && 0 <= timeoutMillis && timeoutMillis < 60 * 1000)) {\n      const maxRetries = options.maxRetries ?? this.maxRetries;\n      timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);\n    }\n    await (0, exports.sleep)(timeoutMillis);\n    return this.makeRequest(options, retriesRemaining - 1);\n  }\n  calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {\n    const initialRetryDelay = 0.5;\n    const maxRetryDelay = 8.0;\n    const numRetries = maxRetries - retriesRemaining;\n    // Apply exponential backoff, but not more than the max.\n    const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);\n    // Apply some jitter, take up to at most 25 percent of the retry time.\n    const jitter = 1 - Math.random() * 0.25;\n    return sleepSeconds * jitter * 1000;\n  }\n  getUserAgent() {\n    return `${this.constructor.name}/JS ${version_1.VERSION}`;\n  }\n}\nexports.APIClient = APIClient;\nclass AbstractPage {\n  constructor(client, response, body, options) {\n    _AbstractPage_client.set(this, void 0);\n    __classPrivateFieldSet(this, _AbstractPage_client, client, \"f\");\n    this.options = options;\n    this.response = response;\n    this.body = body;\n  }\n  hasNextPage() {\n    const items = this.getPaginatedItems();\n    if (!items.length) return false;\n    return this.nextPageInfo() != null;\n  }\n  async getNextPage() {\n    const nextInfo = this.nextPageInfo();\n    if (!nextInfo) {\n      throw new error_1.OpenAIError('No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.');\n    }\n    const nextOptions = {\n      ...this.options\n    };\n    if ('params' in nextInfo && typeof nextOptions.query === 'object') {\n      nextOptions.query = {\n        ...nextOptions.query,\n        ...nextInfo.params\n      };\n    } else if ('url' in nextInfo) {\n      const params = [...Object.entries(nextOptions.query || {}), ...nextInfo.url.searchParams.entries()];\n      for (const [key, value] of params) {\n        nextInfo.url.searchParams.set(key, value);\n      }\n      nextOptions.query = undefined;\n      nextOptions.path = nextInfo.url.toString();\n    }\n    return await __classPrivateFieldGet(this, _AbstractPage_client, \"f\").requestAPIList(this.constructor, nextOptions);\n  }\n  async *iterPages() {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let page = this;\n    yield page;\n    while (page.hasNextPage()) {\n      page = await page.getNextPage();\n      yield page;\n    }\n  }\n  async *[(_AbstractPage_client = new WeakMap(), Symbol.asyncIterator)]() {\n    for await (const page of this.iterPages()) {\n      for (const item of page.getPaginatedItems()) {\n        yield item;\n      }\n    }\n  }\n}\nexports.AbstractPage = AbstractPage;\n/**\n * This subclass of Promise will resolve to an instantiated Page once the request completes.\n *\n * It also implements AsyncIterable to allow auto-paginating iteration on an unawaited list call, eg:\n *\n *    for await (const item of client.items.list()) {\n *      console.log(item)\n *    }\n */\nclass PagePromise extends APIPromise {\n  constructor(client, request, Page) {\n    super(request, async props => new Page(client, props.response, await defaultParseResponse(props), props.options));\n  }\n  /**\n   * Allow auto-paginating iteration on an unawaited list call, eg:\n   *\n   *    for await (const item of client.items.list()) {\n   *      console.log(item)\n   *    }\n   */\n  async *[Symbol.asyncIterator]() {\n    const page = await this;\n    for await (const item of page) {\n      yield item;\n    }\n  }\n}\nexports.PagePromise = PagePromise;\nconst createResponseHeaders = headers => {\n  return new Proxy(Object.fromEntries(\n  // @ts-ignore\n  headers.entries()), {\n    get(target, name) {\n      const key = name.toString();\n      return target[key.toLowerCase()] || target[key];\n    }\n  });\n};\nexports.createResponseHeaders = createResponseHeaders;\n// This is required so that we can determine if a given object matches the RequestOptions\n// type at runtime. While this requires duplication, it is enforced by the TypeScript\n// compiler such that any missing / extraneous keys will cause an error.\nconst requestOptionsKeys = {\n  method: true,\n  path: true,\n  query: true,\n  body: true,\n  headers: true,\n  maxRetries: true,\n  stream: true,\n  timeout: true,\n  httpAgent: true,\n  signal: true,\n  idempotencyKey: true,\n  __binaryResponse: true,\n  __streamClass: true\n};\nconst isRequestOptions = obj => {\n  return typeof obj === 'object' && obj !== null && !isEmptyObj(obj) && Object.keys(obj).every(k => hasOwn(requestOptionsKeys, k));\n};\nexports.isRequestOptions = isRequestOptions;\nconst getPlatformProperties = () => {\n  if (typeof Deno !== 'undefined' && Deno.build != null) {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': version_1.VERSION,\n      'X-Stainless-OS': normalizePlatform(Deno.build.os),\n      'X-Stainless-Arch': normalizeArch(Deno.build.arch),\n      'X-Stainless-Runtime': 'deno',\n      'X-Stainless-Runtime-Version': Deno.version\n    };\n  }\n  if (typeof EdgeRuntime !== 'undefined') {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': version_1.VERSION,\n      'X-Stainless-OS': 'Unknown',\n      'X-Stainless-Arch': `other:${EdgeRuntime}`,\n      'X-Stainless-Runtime': 'edge',\n      'X-Stainless-Runtime-Version': process.version\n    };\n  }\n  // Check if Node.js\n  if (Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]') {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': version_1.VERSION,\n      'X-Stainless-OS': normalizePlatform(process.platform),\n      'X-Stainless-Arch': normalizeArch(process.arch),\n      'X-Stainless-Runtime': 'node',\n      'X-Stainless-Runtime-Version': process.version\n    };\n  }\n  const browserInfo = getBrowserInfo();\n  if (browserInfo) {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': version_1.VERSION,\n      'X-Stainless-OS': 'Unknown',\n      'X-Stainless-Arch': 'unknown',\n      'X-Stainless-Runtime': `browser:${browserInfo.browser}`,\n      'X-Stainless-Runtime-Version': browserInfo.version\n    };\n  }\n  // TODO add support for Cloudflare workers, etc.\n  return {\n    'X-Stainless-Lang': 'js',\n    'X-Stainless-Package-Version': version_1.VERSION,\n    'X-Stainless-OS': 'Unknown',\n    'X-Stainless-Arch': 'unknown',\n    'X-Stainless-Runtime': 'unknown',\n    'X-Stainless-Runtime-Version': 'unknown'\n  };\n};\n// Note: modified from https://github.com/JS-DevTools/host-environment/blob/b1ab79ecde37db5d6e163c050e54fe7d287d7c92/src/isomorphic.browser.ts\nfunction getBrowserInfo() {\n  if (typeof navigator === 'undefined' || !navigator) {\n    return null;\n  }\n  // NOTE: The order matters here!\n  const browserPatterns = [{\n    key: 'edge',\n    pattern: /Edge(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n  }, {\n    key: 'ie',\n    pattern: /MSIE(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n  }, {\n    key: 'ie',\n    pattern: /Trident(?:.*rv\\:(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n  }, {\n    key: 'chrome',\n    pattern: /Chrome(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n  }, {\n    key: 'firefox',\n    pattern: /Firefox(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n  }, {\n    key: 'safari',\n    pattern: /(?:Version\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?(?:\\W+Mobile\\S*)?\\W+Safari/\n  }];\n  // Find the FIRST matching browser\n  for (const {\n    key,\n    pattern\n  } of browserPatterns) {\n    const match = pattern.exec(navigator.userAgent);\n    if (match) {\n      const major = match[1] || 0;\n      const minor = match[2] || 0;\n      const patch = match[3] || 0;\n      return {\n        browser: key,\n        version: `${major}.${minor}.${patch}`\n      };\n    }\n  }\n  return null;\n}\nconst normalizeArch = arch => {\n  // Node docs:\n  // - https://nodejs.org/api/process.html#processarch\n  // Deno docs:\n  // - https://doc.deno.land/deno/stable/~/Deno.build\n  if (arch === 'x32') return 'x32';\n  if (arch === 'x86_64' || arch === 'x64') return 'x64';\n  if (arch === 'arm') return 'arm';\n  if (arch === 'aarch64' || arch === 'arm64') return 'arm64';\n  if (arch) return `other:${arch}`;\n  return 'unknown';\n};\nconst normalizePlatform = platform => {\n  // Node platforms:\n  // - https://nodejs.org/api/process.html#processplatform\n  // Deno platforms:\n  // - https://doc.deno.land/deno/stable/~/Deno.build\n  // - https://github.com/denoland/deno/issues/14799\n  platform = platform.toLowerCase();\n  // NOTE: this iOS check is untested and may not work\n  // Node does not work natively on IOS, there is a fork at\n  // https://github.com/nodejs-mobile/nodejs-mobile\n  // however it is unknown at the time of writing how to detect if it is running\n  if (platform.includes('ios')) return 'iOS';\n  if (platform === 'android') return 'Android';\n  if (platform === 'darwin') return 'MacOS';\n  if (platform === 'win32') return 'Windows';\n  if (platform === 'freebsd') return 'FreeBSD';\n  if (platform === 'openbsd') return 'OpenBSD';\n  if (platform === 'linux') return 'Linux';\n  if (platform) return `Other:${platform}`;\n  return 'Unknown';\n};\nlet _platformHeaders;\nconst getPlatformHeaders = () => {\n  return _platformHeaders ?? (_platformHeaders = getPlatformProperties());\n};\nconst safeJSON = text => {\n  try {\n    return JSON.parse(text);\n  } catch (err) {\n    return undefined;\n  }\n};\nexports.safeJSON = safeJSON;\n// https://stackoverflow.com/a/19709846\nconst startsWithSchemeRegexp = new RegExp('^(?:[a-z]+:)?//', 'i');\nconst isAbsoluteURL = url => {\n  return startsWithSchemeRegexp.test(url);\n};\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms));\nexports.sleep = sleep;\nconst validatePositiveInteger = (name, n) => {\n  if (typeof n !== 'number' || !Number.isInteger(n)) {\n    throw new error_1.OpenAIError(`${name} must be an integer`);\n  }\n  if (n < 0) {\n    throw new error_1.OpenAIError(`${name} must be a positive integer`);\n  }\n  return n;\n};\nconst castToError = err => {\n  if (err instanceof Error) return err;\n  return new Error(err);\n};\nexports.castToError = castToError;\nconst ensurePresent = value => {\n  if (value == null) throw new error_1.OpenAIError(`Expected a value to be given but received ${value} instead.`);\n  return value;\n};\nexports.ensurePresent = ensurePresent;\n/**\n * Read an environment variable.\n *\n * Trims beginning and trailing whitespace.\n *\n * Will return undefined if the environment variable doesn't exist or cannot be accessed.\n */\nconst readEnv = env => {\n  if (typeof process !== 'undefined') {\n    return process.env?.[env]?.trim() ?? undefined;\n  }\n  if (typeof Deno !== 'undefined') {\n    return Deno.env?.get?.(env)?.trim();\n  }\n  return undefined;\n};\nexports.readEnv = readEnv;\nconst coerceInteger = value => {\n  if (typeof value === 'number') return Math.round(value);\n  if (typeof value === 'string') return parseInt(value, 10);\n  throw new error_1.OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nexports.coerceInteger = coerceInteger;\nconst coerceFloat = value => {\n  if (typeof value === 'number') return value;\n  if (typeof value === 'string') return parseFloat(value);\n  throw new error_1.OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nexports.coerceFloat = coerceFloat;\nconst coerceBoolean = value => {\n  if (typeof value === 'boolean') return value;\n  if (typeof value === 'string') return value === 'true';\n  return Boolean(value);\n};\nexports.coerceBoolean = coerceBoolean;\nconst maybeCoerceInteger = value => {\n  if (value === undefined) {\n    return undefined;\n  }\n  return (0, exports.coerceInteger)(value);\n};\nexports.maybeCoerceInteger = maybeCoerceInteger;\nconst maybeCoerceFloat = value => {\n  if (value === undefined) {\n    return undefined;\n  }\n  return (0, exports.coerceFloat)(value);\n};\nexports.maybeCoerceFloat = maybeCoerceFloat;\nconst maybeCoerceBoolean = value => {\n  if (value === undefined) {\n    return undefined;\n  }\n  return (0, exports.coerceBoolean)(value);\n};\nexports.maybeCoerceBoolean = maybeCoerceBoolean;\n// https://stackoverflow.com/a/34491287\nfunction isEmptyObj(obj) {\n  if (!obj) return true;\n  for (const _k in obj) return false;\n  return true;\n}\nexports.isEmptyObj = isEmptyObj;\n// https://eslint.org/docs/latest/rules/no-prototype-builtins\nfunction hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\nexports.hasOwn = hasOwn;\n/**\n * Copies headers from \"newHeaders\" onto \"targetHeaders\",\n * using lower-case for all properties,\n * ignoring any keys with undefined values,\n * and deleting any keys with null values.\n */\nfunction applyHeadersMut(targetHeaders, newHeaders) {\n  for (const k in newHeaders) {\n    if (!hasOwn(newHeaders, k)) continue;\n    const lowerKey = k.toLowerCase();\n    if (!lowerKey) continue;\n    const val = newHeaders[k];\n    if (val === null) {\n      delete targetHeaders[lowerKey];\n    } else if (val !== undefined) {\n      targetHeaders[lowerKey] = val;\n    }\n  }\n}\nfunction debug(action, ...args) {\n  if (typeof process !== 'undefined' && process.env['DEBUG'] === 'true') {\n    console.log(`OpenAI:DEBUG:${action}`, ...args);\n  }\n}\nexports.debug = debug;\n/**\n * https://stackoverflow.com/a/2117523\n */\nconst uuid4 = () => {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = Math.random() * 16 | 0;\n    const v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n};\nconst isRunningInBrowser = () => {\n  return (\n    // @ts-ignore\n    typeof window !== 'undefined' &&\n    // @ts-ignore\n    typeof window.document !== 'undefined' &&\n    // @ts-ignore\n    typeof navigator !== 'undefined'\n  );\n};\nexports.isRunningInBrowser = isRunningInBrowser;\nconst isHeadersProtocol = headers => {\n  return typeof headers?.get === 'function';\n};\nexports.isHeadersProtocol = isHeadersProtocol;\nconst getRequiredHeader = (headers, header) => {\n  const lowerCasedHeader = header.toLowerCase();\n  if ((0, exports.isHeadersProtocol)(headers)) {\n    // to deal with the case where the header looks like Stainless-Event-Id\n    const intercapsHeader = header[0]?.toUpperCase() + header.substring(1).replace(/([^\\w])(\\w)/g, (_m, g1, g2) => g1 + g2.toUpperCase());\n    for (const key of [header, lowerCasedHeader, header.toUpperCase(), intercapsHeader]) {\n      const value = headers.get(key);\n      if (value) {\n        return value;\n      }\n    }\n  }\n  for (const [key, value] of Object.entries(headers)) {\n    if (key.toLowerCase() === lowerCasedHeader) {\n      if (Array.isArray(value)) {\n        if (value.length <= 1) return value[0];\n        console.warn(`Received ${value.length} entries for the ${header} header, using the first entry.`);\n        return value[0];\n      }\n      return value;\n    }\n  }\n  throw new Error(`Could not find ${header} header`);\n};\nexports.getRequiredHeader = getRequiredHeader;\n/**\n * Encodes a string to Base64 format.\n */\nconst toBase64 = str => {\n  if (!str) return '';\n  if (typeof Buffer !== 'undefined') {\n    return Buffer.from(str).toString('base64');\n  }\n  if (typeof btoa !== 'undefined') {\n    return btoa(str);\n  }\n  throw new error_1.OpenAIError('Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined');\n};\nexports.toBase64 = toBase64;\nfunction isObj(obj) {\n  return obj != null && typeof obj === 'object' && !Array.isArray(obj);\n}\nexports.isObj = isObj;","map":{"version":3,"names":["version_1","require","streaming_1","error_1","index_1","uploads_1","uploads_2","Object","defineProperty","exports","enumerable","get","maybeMultipartFormRequestOptions","multipartFormRequestOptions","createForm","defaultParseResponse","props","response","options","stream","debug","status","url","headers","body","__streamClass","fromSSEResponse","controller","Stream","__binaryResponse","contentType","isJSON","includes","json","text","APIPromise","Promise","constructor","responsePromise","parseResponse","resolve","_thenUnwrap","transform","asResponse","then","p","withResponse","data","all","parse","parsedPromise","onfulfilled","onrejected","catch","finally","onfinally","APIClient","baseURL","maxRetries","timeout","httpAgent","fetch","overridenFetch","validatePositiveInteger","authHeaders","opts","defaultHeaders","Accept","getUserAgent","getPlatformHeaders","validateHeaders","customHeaders","defaultIdempotencyKey","uuid4","path","methodRequest","post","patch","put","delete","method","request","getAPIList","Page","requestAPIList","calculateContentLength","Buffer","byteLength","toString","TextEncoder","encoder","encoded","encode","length","buildRequest","query","isMultipartBody","JSON","stringify","contentLength","buildURL","getDefaultAgent","minAgentTimeout","idempotencyHeader","idempotencyKey","reqHeaders","buildHeaders","req","agent","signal","applyHeadersMut","kind","prepareOptions","prepareRequest","parseHeaders","Symbol","iterator","fromEntries","Array","from","map","header","makeStatusError","error","message","APIError","generate","remainingRetries","makeRequest","optionsInput","retriesRemaining","aborted","APIUserAbortError","AbortController","fetchWithTimeout","castToError","Error","retryRequest","name","APIConnectionTimeoutError","APIConnectionError","cause","responseHeaders","createResponseHeaders","ok","shouldRetry","retryMessage","errText","e","errJSON","safeJSON","errMessage","undefined","err","PagePromise","isAbsoluteURL","URL","endsWith","startsWith","slice","defaultQuery","isEmptyObj","isArray","search","stringifyQuery","entries","filter","_","value","key","encodeURIComponent","OpenAIError","join","init","ms","addEventListener","abort","setTimeout","getRequestClient","call","clearTimeout","shouldRetryHeader","timeoutMillis","retryAfterMillisHeader","timeoutMs","parseFloat","Number","isNaN","retryAfterHeader","timeoutSeconds","Date","now","calculateDefaultRetryTimeoutMillis","sleep","initialRetryDelay","maxRetryDelay","numRetries","sleepSeconds","Math","min","pow","jitter","random","VERSION","AbstractPage","client","_AbstractPage_client","set","__classPrivateFieldSet","hasNextPage","items","getPaginatedItems","nextPageInfo","getNextPage","nextInfo","nextOptions","params","searchParams","__classPrivateFieldGet","iterPages","page","WeakMap","asyncIterator","item","Proxy","target","toLowerCase","requestOptionsKeys","isRequestOptions","obj","keys","every","k","hasOwn","getPlatformProperties","Deno","build","normalizePlatform","os","normalizeArch","arch","version","EdgeRuntime","process","prototype","platform","browserInfo","getBrowserInfo","browser","navigator","browserPatterns","pattern","match","exec","userAgent","major","minor","_platformHeaders","startsWithSchemeRegexp","RegExp","test","n","isInteger","ensurePresent","readEnv","env","trim","coerceInteger","round","parseInt","coerceFloat","coerceBoolean","Boolean","maybeCoerceInteger","maybeCoerceFloat","maybeCoerceBoolean","_k","hasOwnProperty","targetHeaders","newHeaders","lowerKey","val","action","args","console","log","replace","c","r","v","isRunningInBrowser","window","document","isHeadersProtocol","getRequiredHeader","lowerCasedHeader","intercapsHeader","toUpperCase","substring","_m","g1","g2","warn","toBase64","str","btoa","isObj"],"sources":["src/core.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}